<div class="flex flex-col items-center w-full bg-purple-50 mb-2">
  <div class="flex flex-col md:flex-row flex-grow md:items-center w-full justify-center md:justify-around">
    
    <app-search-bar (searchTextChanged)="onSearchTextChanged($event)">
    </app-search-bar>

    <app-filter-category (categoryChanged)="onCategoryChanged($event)">
    </app-filter-category>

  </div>

  <div class="w-full grid grid-cols-2 gap-2 sm:grid-cols-4 sm:gap-3 md:grid-cols-5 lg:grid-cols-6 lg:gap-5 auto-rows-fr pt-3 p-2 sm:p-4 lg:p-8">
    <!-- Filter products based on categories -->
    @for (product of products; track $index){ 
      @if (selectedCategory === 'all' && product.title.toLowerCase().includes(searchText.toLowerCase())){ 
          <app-product-tile [product]="product" (click)="onSelectedProduct(product)"> </app-product-tile>
      }
      @else if (selectedCategory === product.category){ 
        @if(product.title.toLowerCase().includes(searchText.toLowerCase())){
            <app-product-tile [product]="product" (click)="onSelectedProduct(product)"> </app-product-tile>
        }
      }
    }
  </div>
</div>
